<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>明想解答之卡 - 線上查詢</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🎴</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🎴</text></svg>">
    <meta name="description" content="明想解答之卡線上查詢系統，查看60張心靈指引卡片的完整解讀">
    <meta property="og:title" content="明想解答之卡">
    <meta property="og:description" content="輸入卡片編號，查看完整的心靈指引">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", sans-serif;
            background: #f5f5f7;
            min-height: 100vh;
            color: #1d1d1f;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            line-height: 1.4;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
        }
        
        .search-card {
            background: white;
            border-radius: 18px;
            padding: 40px 32px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            text-align: center;
            animation: fadeInUp 0.6s ease-out;
            border: 1px solid rgba(0, 0, 0, 0.04);
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .logo {
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }
        
        .logo-image {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .logo-emoji {
            font-size: 42px;
        }
        
        h1 {
            font-size: 28px;
            color: #1d1d1f;
            margin-bottom: 8px;
            font-weight: 600;
            letter-spacing: -0.5px;
        }
        
        .subtitle {
            color: #86868b;
            margin-bottom: 32px;
            font-size: 17px;
            font-weight: 400;
        }
        
        .input-group {
            margin-bottom: 24px;
        }
        
        .card-input {
            width: 100%;
            padding: 16px 20px;
            font-size: 20px;
            text-align: center;
            border: 1px solid #d2d2d7;
            border-radius: 12px;
            transition: all 0.2s ease;
            font-weight: 500;
            background: #fbfbfd;
        }
        
        .card-input:focus {
            outline: none;
            border-color: #007aff;
            background: white;
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
        }
        
        .card-input::placeholder {
            color: #c7c7cc;
            font-weight: 400;
        }
        
        .submit-btn {
            width: 100%;
            padding: 16px;
            background: #007aff;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .submit-btn:hover {
            background: #0056cc;
            transform: translateY(-1px);
        }
        
        .submit-btn:active {
            transform: translateY(0);
            background: #004499;
        }
        
        .quick-select {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid #f2f2f7;
        }
        
        .quick-select h3 {
            color: #86868b;
            font-size: 15px;
            margin-bottom: 16px;
            font-weight: 500;
        }
        
        .number-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 6px;
        }
        
        .number-btn {
            padding: 10px;
            border: 1px solid #e5e5ea;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.15s ease;
            font-size: 14px;
            color: #007aff;
            font-weight: 500;
        }
        
        .number-btn:hover {
            background: #007aff;
            color: white;
            border-color: #007aff;
        }
        
        .result-container {
            display: none;
            animation: fadeIn 0.4s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .result-card {
            background: white;
            border-radius: 18px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 0, 0, 0.04);
        }
        
        .card-image-section {
            position: relative;
            background: #f8f9fa;
            padding: 32px 20px;
            text-align: center;
        }
        
        .card-number {
            position: absolute;
            top: 16px;
            left: 16px;
            background: rgba(255, 255, 255, 0.9);
            padding: 6px 12px;
            border-radius: 16px;
            font-weight: 600;
            color: #007aff;
            font-size: 14px;
            backdrop-filter: blur(10px);
        }
        
        .card-image {
            max-width: 280px;
            max-height: 280px;
            width: 100%;
            height: auto;
            object-fit: contain;
            border-radius: 12px;
            animation: floatIn 0.6s ease-out;
        }
        
        @keyframes floatIn {
            from {
                opacity: 0;
                transform: translateY(10px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .card-content {
            padding: 32px 24px;
        }
        
        .card-title {
            font-size: 24px;
            color: #1d1d1f;
            margin-bottom: 24px;
            text-align: center;
            font-weight: 600;
            letter-spacing: -0.3px;
        }
        
        .content-section {
            margin-bottom: 24px;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            font-size: 17px;
            color: #007aff;
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        .section-icon {
            margin-right: 8px;
            font-size: 18px;
        }
        
        .reminder-box {
            background: #f0f8ff;
            padding: 16px 20px;
            border-radius: 12px;
            font-size: 16px;
            color: #1d1d1f;
            font-style: italic;
            line-height: 1.5;
            border-left: 3px solid #007aff;
        }
        
        .meaning-text {
            line-height: 1.6;
            color: #1d1d1f;
            font-size: 16px;
        }
        
        .practice-box {
            background: #fff8e1;
            padding: 16px 20px;
            border-radius: 12px;
            line-height: 1.6;
            color: #1d1d1f;
            border-left: 3px solid #ff9500;
            font-size: 16px;
        }
        
        .keywords-section {
            text-align: center;
            padding: 16px 0;
        }
        
        .keyword-tag {
            display: inline-block;
            padding: 6px 12px;
            background: #f2f2f7;
            color: #007aff;
            border-radius: 16px;
            margin: 4px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .action-buttons {
            padding: 24px;
            background: #fbfbfd;
            text-align: center;
        }
        
        .new-search-btn {
            padding: 12px 32px;
            background: white;
            color: #007aff;
            border: 1px solid #007aff;
            border-radius: 20px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .new-search-btn:hover {
            background: #007aff;
            color: white;
        }
        
        @media (max-width: 600px) {
            .search-card {
                padding: 32px 24px;
            }
            
            .card-title {
                font-size: 22px;
            }
            
            .number-grid {
                grid-template-columns: repeat(6, 1fr);
            }
            
            .card-image {
                max-width: 240px;
                max-height: 240px;
            }
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
            background: white;
            border-radius: 18px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #f2f2f7;
            border-radius: 50%;
            border-top-color: #007aff;
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto 16px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error-message {
            color: #ff3b30;
            font-size: 14px;
            margin-top: 8px;
            padding: 8px 12px;
            background: #fff0f0;
            border-radius: 8px;
            display: none;
            border: 1px solid #ffebee;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="search-card" id="searchSection">
            <div class="logo">
                <img src="https://raw.githubusercontent.com/nigelliu1221/oracle-cards/main/images/logo-3.png" 
                     alt="明想解答之卡 Logo" 
                     class="logo-png"
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='inline';">
                <span class="logo-emoji" style="display: none;">🎴</span>
            </div>
            <h1>明想解答之卡</h1>
            <p class="subtitle">輸入卡片編號，查看完整解讀</p>
            
            <div class="input-group">
                <input type="number" 
                       class="card-input" 
                       id="cardNumber" 
                       placeholder="1-60"
                       min="1" 
                       max="60"
                       autofocus>
                <div class="error-message" id="errorMessage"></div>
            </div>
            
            <button class="submit-btn" onclick="showCard()">查看卡片解讀</button>
            
            <div class="quick-select">
                <h3>快速選擇</h3>
                <div class="number-grid" id="numberGrid"></div>
            </div>
        </div>
        
        <div class="loading" id="loadingSection">
            <div class="loading-spinner"></div>
            <p>正在載入卡片...</p>
        </div>
        
        <div class="result-container" id="resultSection">
            <div class="result-card">
                <div class="card-image-section">
                    <div class="card-number" id="displayCardNumber"></div>
                    <div class="card-image-container">
                        <img id="cardImage" class="card-image" alt="卡片圖像">
                    </div>
                </div>
                
                <div class="card-content">
                    <h2 class="card-title" id="cardTitle"></h2>
                    
                    <div class="content-section">
                        <h3 class="section-title">
                            <span class="section-icon">✦</span>
                            正念提醒
                        </h3>
                        <div class="reminder-box" id="reminderText"></div>
                    </div>
                    
                    <div class="content-section">
                        <h3 class="section-title">
                            <span class="section-icon">📖</span>
                            牌卡解讀
                        </h3>
                        <p class="meaning-text" id="meaningText"></p>
                    </div>
                    
                    <div class="content-section">
                        <h3 class="section-title">
                            <span class="section-icon">✨</span>
                            正念練習
                        </h3>
                        <div class="practice-box" id="practiceText"></div>
                    </div>
                    
                    <div class="keywords-section" id="keywordsSection"></div>
                </div>
                
                <div class="action-buttons">
                    <button class="new-search-btn" onclick="newSearch()">查詢其他卡片</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // GitHub 設定
        const GITHUB_USERNAME = 'nigelliu1221';
        const GITHUB_REPO = 'oracle-cards';
        const IMAGE_BASE_URL = `https://raw.githubusercontent.com/${GITHUB_USERNAME}/${GITHUB_REPO}/main/images/`;
        
        // 卡片資料庫
        const cardDatabase = {
            1: {
                title: "鶴｜內在穩定",
                reminder: "放鬆一點，才聽得到內在的聲音。",
                meaning: "焦慮來時，別急著排斥它的存在。當你選擇順應情緒、暫停評斷，節奏自然會放鬆，內心也會變得更清楚。你不需立即知道答案，只需先與此刻和平共處，平靜就會慢慢回來。",
                practice: "當感到不安，閉眼深呼吸三次，把注意力放回呼吸與身體感受。",
                keywords: ["放鬆", "內在聲音", "平靜", "和平共處"],
                image: "01-crane.png"
            },
            2: {
                title: "兔子｜接納流動",
                reminder: "差異不是威脅，而是轉化的起點。",
                meaning: "你可能面對內外拉扯、矛盾的想法或意見分歧。無論是與人相處還是自我掙扎，都不需急著統一觀點。當你學會同時容納多種可能性，內心的柔軟與智慧將隨之展現。",
                practice: "列出當前兩種矛盾的聲音，試著站在第三個角度來理解它們的存在理由。",
                keywords: ["差異", "轉化", "容納", "柔軟"],
                image: "02-rabbit.png"
            },
            3: {
                title: "狐狸｜自信成長",
                reminder: "相信自己，你能做得更好。",
                meaning: "你擁有更多的潛力，只需跨出第一步，就能看見新的可能性。面對挑戰，不必退縮。踏出舒適圈後，你將發現原來的自己其實早已準備好迎接下一段旅程。",
                practice: "挑選一件想嘗試卻猶豫的事，今天進行一小步行動，觀察變化感受。",
                keywords: ["潛力", "挑戰", "舒適圈", "可能性"],
                image: "03-fox.png"
            },
            4: {
                title: "刺蝟｜關愛共鳴",
                reminder: "靠得太近會刺痛，留點空間才能更親密。",
                meaning: "真正長久的關係，從來不是緊密無間的依附，而是建立在適當距離與深刻尊重之上的平衡。你不需要時時黏在一起，反而應保有彼此呼吸與成長的空間。這不是疏離，而是一種更成熟的靠近。",
                practice: "今天刻意給彼此一段獨處時間，觀察這段留白是否讓關係更自在。",
                keywords: ["距離", "尊重", "平衡", "成熟"],
                image: "04-hedgehog.png"
            },
            5: {
                title: "鹿｜轉化覺醒",
                reminder: "不需急著成熟，你的蛻變自有節奏。",
                meaning: "當你正在成長的轉角，蛻變也許帶著不確定與不安。其實變化本身就是學習的一環。不必催促自己走得快，每個調整都是向內靠近的過程。只要你願意持續前進，力量自然會逐漸顯現。",
                practice: "今天為自己設定一件「還不熟練，但願意嘗試」的小任務。",
                keywords: ["蛻變", "成長", "節奏", "力量"],
                image: "05-deer.png"
            },
            6: {
                title: "鯨魚｜行動突破",
                reminder: "穩住當下，比衝出去更能走得遠。",
                meaning: "行動前的躊躇不安，往往源自未整理的焦慮。唯有放慢節奏，重新檢視當前的狀態與需求，才能將那些混亂的情緒轉化為前行的火焰。當你不再匆促，就會發現內在早已準備好踏出那一步。",
                practice: "選擇一件你最近猶豫的任務，寫下你最擔心的結果，並寫下「如果發生了，我會怎麼做」。",
                keywords: ["穩定", "節奏", "焦慮", "準備"],
                image: "06-whale.png"
            },
            7: {
                title: "大象｜內在穩定",
                reminder: "慢下來，才看得見清晰的風景。",
                meaning: "心煩意亂時，不妨讓自己慢一點。放下「馬上要解決」的焦慮，允許自己暫觀當下變化。你會發現，當節奏緩下來，原本模糊的方向，也會漸漸浮現眼前。",
                practice: "今天用比平常更慢的速度吃飯或走路，觀察內心是否也隨之放鬆。",
                keywords: ["慢下來", "清晰", "節奏", "方向"],
                image: "07-elephant.png"
            },
            8: {
                title: "鯨魚｜接納流動",
                reminder: "不是每件事都要掌控，順流反而更穩。",
                meaning: "你或許正緊抓某個計畫、期待或節奏，但內在其實早已感到疲憊。放手不是放棄，而是相信事情會以適合的形式展開。當你學會信任節奏，將發現更流暢的可能。",
                practice: "今天觀察一件你「很想掌握」的事，試著鬆手一點，讓它自然發展。",
                keywords: ["放手", "信任", "節奏", "流暢"],
                image: "08-whale2.png"
            },
            9: {
                title: "浣熊｜自信成長",
                reminder: "累積一步步，終將帶你飛躍。",
                meaning: "過去的努力與經驗，是你通向更高處的基石。當你學會回顧自己的歷程，就會看見自己走得很遠。穩定地前進，讓眼界持續擴張，終能踏上更寬闊的方向。",
                practice: "記錄你近半年完成的一件成果，寫下它帶來的幫助與變化。",
                keywords: ["累積", "經驗", "眼界", "前進"],
                image: "09-raccoon.png"
            },
            10: {
                title: "鶴｜關愛共鳴",
                reminder: "牽掛若成束縛，就該重新定義愛的模樣。",
                meaning: "任何關係中若讓你感到失去自由，或總在壓抑自己以配合對方，那應是時候看看這樣的付出是否值得。你可以溫柔對待他人，同時，也不忘為自己留一片自由呼吸的空間。",
                practice: "問問自己：「我是否在這段關係中，自在做自己？」",
                keywords: ["牽掛", "束縛", "自由", "空間"],
                image: "10-crane2.png"
            },
            11: {
                title: "樹懶｜轉化覺醒",
                reminder: "慢一點，才聽得到內在的聲音。",
                meaning: "當你感覺遲疑、迷茫，並不代表你停滯了。有些階段正是生命邀請你進入更深的照見層次。放下對「立刻知道該做什麼」的執念，你的直覺會以最柔和的方式指引你，察覺潛藏在當下的訊號。",
                practice: "今天選擇一件原本想「趕快搞定」的事，刻意放「慢流程」，觀察過程中新的感受或靈感浮現。",
                keywords: ["慢", "直覺", "照見", "訊號"],
                image: "11-sloth.png"
            },
            12: {
                title: "蝴蝶｜行動突破",
                reminder: "看懂時機，行動才能有力。",
                meaning: "起飛前，蝴蝶總是審慎感受風向。理解整體局勢與時機，是順利前行的關鍵。你不需要一步到位，而是需要一次精準的出擊。別讓猶豫拖住腳，也別讓衝動模糊眼光。",
                practice: "列出今天最想解決的一件事，選一個具體行動並設定限時 30 分鐘完成。",
                keywords: ["時機", "精準", "局勢", "出擊"],
                image: "12-butterfly.png"
            },
            13: {
                title: "浣熊｜內在穩定",
                reminder: "停一停，讓情緒有個出口。",
                meaning: "情緒不是敵人，而是訊號。當你願意看見、接納它的來訪，情緒會逐漸被安撫，內在也會更穩定清晰。真正的內靜，不是壓抑，而是願意溫柔地面對與覺察感受。",
                practice: "靜坐一分鐘，覺察自己此刻的情緒，並對自己說：「我可以有這樣的情緒。」",
                keywords: ["情緒", "接納", "覺察", "內靜"],
                image: "13-raccoon2.png"
            },
            14: {
                title: "樹蛙｜接納流動",
                reminder: "最真實的路徑，藏在當下的細節裡。",
                meaning: "當思緒漂浮不定，你可能錯過眼前其實早已浮現的方向與資源。你的心越能停留當下，就越能從中接收清晰的訊息。紛擾來自過去與未來，寧靜來自當下。",
                practice: "選一個生活片刻（如吃飯、走路），用全部感官去體會它，不評論，只觀察。",
                keywords: ["當下", "細節", "訊息", "寧靜"],
                image: "14-treefrog.png"
            },
            15: {
                title: "鹿｜自信成長",
                reminder: "每個努力的時刻，都是幫你發光。",
                meaning: "別小看你所能。努力耕耘時光，最終會在某個時刻綻放光芒。當試著突破原有限制，在行動中學習，讓你的成長之路持續拓寬。相信自己所做的每一件事，都是實力的累積與擴張。",
                practice: "寫下你今天完成的一件小事，肯定它對你造成的正向影響，再寫出下一步你可以做的行動。",
                keywords: ["努力", "光芒", "突破", "實力"],
                image: "15-deer2.png"
            },
            16: {
                title: "兔子｜關愛共鳴",
                reminder: "安靜地聽自己，才能知道關係的方向。",
                meaning: "當你感到不確定，與其向外尋找答案，不如回頭傾聽自己內心的聲音。你真正渴望的愛是支持還是距離？關係的持續需要雙方的節奏相合，而那份安靜會在你誠實面對心意時浮現。",
                practice: "今天留意與他人互動時，你是舒服地做自己，還是在壓抑或迴避？",
                keywords: ["傾聽", "內心", "節奏", "誠實"],
                image: "16-rabbit2.png"
            },
            17: {
                title: "刺蝟｜轉化覺醒",
                reminder: "你所尋的力量，從來不在別人身上。",
                meaning: "也許你習慣了保護自己、不輕易顯露真實感受。但當你慢慢開始信任自己的直覺與價值，那些被壓抑的力量將有機會顯露。你的潛能其實一直都在，只是需要一個契機喚醒它。",
                practice: "今天挑選一個你擅長卻常忽略的能力，為它安排一次小小的發揮空間。",
                keywords: ["力量", "信任", "潛能", "顯露"],
                image: "17-hedgehog2.png"
            },
            18: {
                title: "猴子｜行動突破",
                reminder: "真正的解法，藏在冷靜背後。",
                meaning: "當情緒高漲或困境來襲，第一反應常是逃避或衝撞，但這往往無助於真正跨越。冷靜地看清問題核心，才能辨明方向並減少耗損。穩定情緒，是建立行動力的基礎。",
                practice: "在決定一件事前，思考「我此刻的感受是什麼？我希望得到的結果是什麼？」",
                keywords: ["冷靜", "核心", "方向", "穩定"],
                image: "18-monkey.png"
            },
            19: {
                title: "信天翁｜內在穩定",
                reminder: "你不需要做到每一件事都完美。",
                meaning: "追求完美容易讓內在長期處於緊繃狀態。允許自己適度鬆懈，是一種成熟的選擇。當你給自己空間喘息，才能在柔軟中表出穩定與清明，也讓心變得更有彈性。",
                practice: "今天選一件事用「剛剛好」完成，不必事事滿分，依然值得肯定。",
                keywords: ["完美", "鬆懈", "彈性", "清明"],
                image: "19-albatross.png"
            },
            20: {
                title: "大象｜接納流動",
                reminder: "不急著平靜，起伏也是一種節奏。",
                meaning: "你可能正處於狀態波動的階段，情緒、進度、人際互動都起伏不定。這張牌鼓勵你先暫停對抗，試著面對不完美其實。每一次不適的感受，其實都是生活對你的提醒，而非責備。",
                practice: "安靜坐三分鐘，觀察身體中是否有情緒殘留的位置，輕輕呼氣。",
                keywords: ["起伏", "節奏", "接納", "提醒"],
                image: "20-elephant2.png"
            },
            21: {
                title: "金魚｜自信成長",
                reminder: "你的潛力，正在等你去開啟它。",
                meaning: "你擁有的能量比你意識到的還多，只差一次勇敢嘗試。透過行動與他人交流，你會快速成長。能力與信任會互動展開，信任自己是你邁上突破的第一步，也是邁向成熟的必經過程。",
                practice: "嘗試一件你有點緊張的挑戰，事後寫下你得到的收穫、心情轉變，並記錄下勇敢的感覺。",
                keywords: ["潛力", "勇敢", "成長", "信任"],
                image: "21-goldfish.png"
            },
            22: {
                title: "狐狸｜關愛共鳴",
                reminder: "安全感，來自心能否安放在彼此之間。",
                meaning: "有時，關係的穩固並不全然來自努力的經營，而是源於彼此之間自然的頻率相合與心靈共鳴。觀察你的身體反應，你會知道自己是否真正自在。你的身體，從來都知道答案。",
                practice: "與某人互動後，記下你的身體反應：是放鬆還是壓力？誠實記錄就是第一步。",
                keywords: ["安全感", "頻率", "共鳴", "身體"],
                image: "22-fox2.png"
            },
            23: {
                title: "毛毛蟲｜轉化覺醒",
                reminder: "黑暗裡，也藏著新生機。",
                meaning: "不迴避那片黑影，便能覺得蘊藏能量；接納內在黑面，有時更能整合自我潛力，抗拒只會生疏，擁抱陰暗，反而讓自己更完整，並激活沉睡的直覺與內在智慧。",
                practice: "當你遇到煩心事，問自己：「如果這是一個機會，它能帶給我什麼成長？」",
                keywords: ["黑暗", "新生", "整合", "智慧"],
                image: "23-caterpillar.png"
            },
            24: {
                title: "松鼠｜行動突破",
                reminder: "多餘的負重，只會讓腳步變形。",
                meaning: "當你承載太多壓力、責任或過度的完美要求，行動的流暢感會被拖慢。輕裝上陣，不等於逃避，而是懂得為自己留下呼吸與彈性，才能真正走得更遠。",
                practice: "整理你的隨身包包或電腦桌面，刪除一樣不再需要、卻一直保留的東西。",
                keywords: ["負重", "輕裝", "彈性", "流暢"],
                image: "24-squirrel.png"
            },
            25: {
                title: "企鵝｜內在穩定",
                reminder: "有些事，放下比想通還來得重要。",
                meaning: "面對當下的困境，與其急於理解原因，不如先允許它發生。當你放下糾結與抗拒，內在會逐漸回到安穩狀態。真正的平靜，不是問題消失，而是心能共處。",
                practice: "對一件目前難解的事輕聲說：「我暫時不需要答案。」讓心停下，不再追問。",
                keywords: ["放下", "允許", "平靜", "共處"],
                image: "25-penguin.png"
            },
            26: {
                title: "鴨子｜接納流動",
                reminder: "沒有好壞情緒，只有值得被理解的訊號。",
                meaning: "當你感到易怒、難過、焦慮，也許第一反應是「我不該這樣」。但情緒本身並非錯誤，它們只是需要你看見的訊號。允許它們自然流動，不評價，就是療癒的開始。",
                practice: "為今天的情緒選一首背景音樂，聽完之後問問自己：「我是不能多一點理解，而不是控制？」",
                keywords: ["情緒", "理解", "訊號", "流動"],
                image: "26-duck.png"
            },
            27: {
                title: "貓咪｜自信成長",
                reminder: "走出一步，你就能看見高處的風景。",
                meaning: "不確定並不等於危險，而是你正在打開新的局面。當重建自己的步調與極限，穩穩推進，你會發現樂觀就在下個轉角。當中求進，是通往突破的核心力量。轉換視角，格局也會擴大。",
                practice: "畫出代表「我害怕的狀態」與「我理想的狀態」的圖像，觀察中間突破的挑戰及已有的資源。",
                keywords: ["步調", "突破", "視角", "格局"],
                image: "27-cat.png"
            },
            28: {
                title: "無尾熊｜關愛共鳴",
                reminder: "你付出的溫柔，會以意想不到的方式回來。",
                meaning: "再微小的關心，都可能成為穩固關係的土壤。當你願意用真心回應對方，也是在人這段關係注入養分。沒有所謂的情感是靠運氣維繫的，它靠的是彼此主動的投入。",
                practice: "今天向一位你珍惜的人發送一句溫暖關心，觀察你們的關係是否因此產生微妙變化。",
                keywords: ["溫柔", "關心", "養分", "投入"],
                image: "28-koala.png"
            },
            29: {
                title: "狼｜轉化覺醒",
                reminder: "你與眾不同的地方，就是你的寶藏。",
                meaning: "如果你總在模仿、迎合，容易與自己的節奏脫節。覺醒意味著回到原點，擁抱自己的特質與信念。當你停止與他人比較，你才能真正站上屬於自己的位置。",
                practice: "回想讓你感覺「自己很特別」的經驗，重新認領那份光芒。",
                keywords: ["特質", "原點", "信念", "位置"],
                image: "29-wolf.png"
            },
            30: {
                title: "瓢蟲｜行動突破",
                reminder: "快不代表準，穩才是底氣。",
                meaning: "當外界訊息紛亂時，倉促的決策反而容易導致錯失良機。慢下來觀察，再快速反應，這樣的節奏才能讓你真正握住主導權。智慧往往藏在那短暫的一秒停頓中。",
                practice: "在每次回覆訊息或說話前，默念「深呼吸一下」，讓自己建立思考空間。",
                keywords: ["穩定", "觀察", "主導", "智慧"],
                image: "30-ladybug.png"
            },
            31: {
                title: "海獺｜內在穩定",
                reminder: "脆弱不是軟弱，而是回到真實的自己。",
                meaning: "你不需要一直堅強，所有情緒都值得被看見。當你願意承認疲憊、容許自己脆弱，那份柔軟不僅能療癒傷痕，也喚醒你重新出發的內在力量。照顧情緒，是通往穩定的第一步。",
                practice: "找一張讓你會心一笑的照片或影片，觀察它讓你放鬆的原因，並用這份感受重新連結當下。",
                keywords: ["脆弱", "真實", "柔軟", "療癒"],
                image: "31-otter.png"
            },
            32: {
                title: "狗｜接納流動",
                reminder: "保持彈性，不是妥協，是選擇寬廣的路。",
                meaning: "你可能正陷入堅持立場的對峙中，無論是工作討論、生活安排還是內在掙扎。柔軟地退一步，有時反而能開啟更多對話與理解的可能。穩定與溝通，其實並不衝突。",
                practice: "今天刻意讓出一個小空間（如走路讓道、讓位、暫緩爭論），觀察你心裡是否因此更鬆一點。",
                keywords: ["彈性", "柔軟", "理解", "溝通"],
                image: "32-dog.png"
            },
            33: {
                title: "天竺鼠｜自信成長",
                reminder: "聚焦，就是力量的開始。",
                meaning: "當你把能量集中在真正想追求的事物上，你的動力與方向會變清晰。嘗試各種路徑雖重要，但更關鍵的是回到內心的渴望，把心力放在最想實現的夢想上，會更快速走進目的地。",
                practice: "寫下你當下最在意的一個目標，思考它的原因，並設計一個具體的實踐方式去靠近它。",
                keywords: ["聚焦", "能量", "渴望", "目標"],
                image: "33-guineapig.png"
            },
            34: {
                title: "母雞｜關愛共鳴",
                reminder: "你願意接住他人，也值得被好好接住。",
                meaning: "當彼此願意共同承擔挑戰，關係就會變得更堅固。這可能是家人間的扶持、朋友間的協助、同事間的理解，或是自己對自己的溫柔照應。如果你總是默默承受，也要學會主動尋求支持。",
                practice: "今天主動請求一次協助，或給出一句「我需要你」的訊號，不需要逞強。",
                keywords: ["承擔", "支持", "協助", "溫柔"],
                image: "34-hen.png"
            },
            35: {
                title: "黑熊｜轉化覺醒",
                reminder: "當你敢翻頁，人生才會寫出新章節。",
                meaning: "舊有的習慣與思維方式雖熟悉，卻未必適合現在的你。革新不是否定，而是從過去經驗中提取養分，再轉換成新的行動策略。你擁有轉化舊框架的創造力，只需要一個決心去嘗試。",
                practice: "選一件你慣用的處理方式，今天刻意換個做法試試，看看是否能打開新的可能。",
                keywords: ["翻頁", "革新", "轉化", "創造力"],
                image: "35-blackbear.png"
            },
            36: {
                title: "鵂鶹｜行動突破",
                reminder: "你不是做不到，只是還沒看清內心卡在哪。",
                meaning: "行動遲疑，有時並非因為缺乏能力，而是內在有某種潛藏的抗拒或恐懼未被察覺。當你願意傾聽這些聲音，你會發現阻力逐漸鬆動。深入感受，釐清限制，是重新啟動內在行動力的關鍵起點。",
                practice: "寫下你遲遲未行動的一件事，補上一句：「我擔心的是⋯⋯」，看見背後的情緒。",
                keywords: ["察覺", "抗拒", "阻力", "啟動"],
                image: "36-owl.png"
            },
            37: {
                title: "龍蝦｜內在穩定",
                reminder: "少一點比較，多一點平靜。",
                meaning: "當你不斷把自己和他人比較，心容易焦躁、迷失方向。將注意力收回來，回到當下的自己，你會重新找回穩定，也看見那些你已悄悄累積的進展與成長價值。",
                practice: "騰出 10 分鐘不做任何事，只單純坐著、躺著或散步，讓頭腦與身體暫時「不被要求」。",
                keywords: ["比較", "平靜", "當下", "價值"],
                image: "37-lobster.png"
            },
            38: {
                title: "河馬｜接納流動",
                reminder: "你不需要堅強到底，坦率更有力量。",
                meaning: "當你試圖隱藏或掩飾某些真相時，內在會感到越來越疲憊。放下武裝，真實地看待情境與感受，是通往轉變的關鍵。無論是向自己、向他人，真誠都會引來支持。",
                practice: "誠實寫下一句你一直沒說出口的心裡話，是否要對人說出由你決定。",
                keywords: ["坦率", "真實", "武裝", "支持"],
                image: "38-hippo.png"
            },
            39: {
                title: "黃金獵犬｜自信成長",
                reminder: "當你心定，風也會成為助力。",
                meaning: "守住初心是你面對混亂最穩固的力量。只要你不被外界變動動搖，保有彈性與靈活應變能力，就能在變局中找到新出口；踏上屬於自己的創新之路。每一次動盪，都是成長契機。",
                practice: "完成一件小事後，對自己微笑一下，默念一句：「我正在往對的方向前進。」",
                keywords: ["初心", "彈性", "變局", "創新"],
                image: "39-goldenretriever.png"
            },
            40: {
                title: "貓頭鷹｜關愛共鳴",
                reminder: "信任，是可以讓彼此安心靠近的力量。",
                meaning: "有些人會陪你走得更遠，條件是彼此願意真誠相對、互相支持。不論是長久的朋友、夥伴、師生，還是你對自己的內在信念，只要信任還在，這段連結就值得被珍惜與修復。",
                practice: "回想一位你曾深信、但漸行漸遠的人，寫下你想對他說的一段話（是否送出由你決定）。",
                keywords: ["信任", "真誠", "支持", "連結"],
                image: "40-owl2.png"
            },
            41: {
                title: "豹｜轉化覺醒",
                reminder: "改變格局，才能遇見全新的風景。",
                meaning: "如果你感到卡住，很可能是你自己內在設下的框框。當你願意調轉視角、突破熟悉邊界，世界也會展開不同的面貌。重點不在馬上走得遠，而是先看見那道可能開啟的門。",
                practice: "嘗試觀察一個「我一直以為不能改變」的信念，挑戰它的真實性。",
                keywords: ["格局", "視角", "邊界", "可能"],
                image: "41-leopard.png"
            },
            42: {
                title: "章魚｜行動突破",
                reminder: "原地穩定，也可能是困住你的網。",
                meaning: "留在熟悉的領域雖然安全，但也可能限制了你的可能性。當你願意走出已知，世界將以嶄新的方式回應你。每一次踏出舒適圈，都是打開未知的一道門。",
                practice: "今天嘗試做一件你平常不會做的小事，例如更換通勤路線、與新朋友交流等。",
                keywords: ["穩定", "限制", "未知", "嶄新"],
                image: "42-octopus.png"
            },
            43: {
                title: "臭鼬｜內在穩定",
                reminder: "放下多餘，才有空間前行。",
                meaning: "你可能背負了太多壓力、期待或責任。若你感到疲累無力，真正需要的不是更努力，而是願意放下那些不必要的重量。當內心變輕盈，才有餘裕重新踏向前。",
                practice: "回想讓你感到最沉重的一件事，閉上眼，想像它變成一片羽毛，隨風輕輕飄遠，漸漸離開你。",
                keywords: ["放下", "輕盈", "重量", "餘裕"],
                image: "43-skunk.png"
            },
            44: {
                title: "變色龍｜接納流動",
                reminder: "無須證明什麼，當你自然站穩自己。",
                meaning: "當你一再迎合外界標準，很容易失去自己的節奏與心聲。穩定不是一成不變，而是找到恰到好處的彈性。你不必是誰眼中的「剛剛好」，你只需要回到自己的中間點。",
                practice: "今天問自己：「我做這件事，是出於真心，還是為了討好？」",
                keywords: ["證明", "節奏", "彈性", "中間點"],
                image: "44-chameleon.png"
            },
            45: {
                title: "駱駝｜自信成長",
                reminder: "接納陰影，才是完整的你。",
                meaning: "無需否定你身上的脆弱或陰影。當你能誠實面對多樣面貌時，將展現出更立體的自我。這份整合，是你穩定發展的起點。每一道裂縫，都是你成為嶄新的入口，邁向完整的自己。",
                practice: "當內心出現自我批評時，停一停，換個方式和自己說話，就像對朋友那樣溫柔。",
                keywords: ["陰影", "整合", "完整", "溫柔"],
                image: "45-camel.png"
            },
            46: {
                title: "海豚｜關愛共鳴",
                reminder: "溝通不只是說話，更是願意理解的姿態。",
                meaning: "不是每次衝突都需要爭出對錯，每段關係都需要練習理解他人的立場。當你能放下防備，嘗試退一步、換個角度，很多糾結就能慢慢鬆開。若無法協調，選擇保持距離，也是溫柔的守護。",
                practice: "試著向一位親近的人表達你的感受，讓自己體驗互相支持的溫度。",
                keywords: ["溝通", "理解", "角度", "守護"],
                image: "46-dolphin.png"
            },
            47: {
                title: "黑貓｜轉化覺醒",
                reminder: "轉變，不需硬撐，也能溫柔前行。",
                meaning: "你可能正處於過渡期，這種模糊不明的狀態容易讓人焦慮。但每個階段的轉換都有自己的節奏，不一定要劇烈變動。當你允許自己慢慢變化，不需立刻定義結果，就能穩穩落地。",
                practice: "在一個感到模糊的當下，做三次深呼吸，觀察身體是否稍有放鬆。",
                keywords: ["轉變", "過渡", "節奏", "落地"],
                image: "47-blackcat.png"
            },
            48: {
                title: "螞蟻｜行動突破",
                reminder: "行動的關鍵不在速度，而在方向。",
                meaning: "當你過於專注於「快點完成」，可能會忽略整體走向是否還正確。必要時暫停，重新確認是否依然走在初衷之路上，這並不是退縮或猶豫，而是一種對自己負責任的覺察與溫柔提醒。",
                practice: "檢視你正進行中的一個目標，問自己：「這件事是否仍與我的當下目標一致？」",
                keywords: ["方向", "初衷", "覺察", "負責"],
                image: "48-ant.png"
            },
            49: {
                title: "鱷魚｜內在穩定",
                reminder: "柔和，是你面對困境的力量。",
                meaning: "當你試圖用硬碰硬解決問題，可能會讓局面更緊繃。選擇柔和的方式，反而能打開更多空間。放下對「解決」的執念，先讓情勢自然流動，是一種更深層的智慧。",
                practice: "當你想「立刻解決」某事時，先寫下問題，然後做一件讓心軟化的小事，例如泡茶、散步。",
                keywords: ["柔和", "空間", "流動", "智慧"],
                image: "49-crocodile.png"
            },
            50: {
                title: "水豚｜接納流動",
                reminder: "放下並非放棄，是為了看見更多可能。",
                meaning: "執著往往來自你曾經的投入或期待，但當這份堅持變成壓力，就需要你選擇轉身。當你放下對結果的執念，會看見其實還有很多條路都在等待你重新踏上。",
                practice: "觀察自己在面對不順時的第一反應，是更用力還是願意暫停，試著選擇放鬆一次。",
                keywords: ["放下", "執著", "轉身", "可能"],
                image: "50-capybara.png"
            },
            51: {
                title: "長頸鹿｜自信成長",
                reminder: "你有能力走得更遠，就別懷疑自己。",
                meaning: "認清你的優勢，是邁出下一步的基礎。若你能誠實接納、穩穩地累積行動，就能厚積薄發、邁向高峰。每一次累積都是助力，每一次練習都是夢想鋪路。信任自己，你走在正途上。",
                practice: "想像自己已站得更高、看得更遠，提醒自己：你擁有足夠的能力走得更遠。",
                keywords: ["優勢", "累積", "高峰", "信任"],
                image: "51-giraffe.png"
            },
            52: {
                title: "蛇｜關愛共鳴",
                reminder: "不說出來，沒人能真正懂得你。",
                meaning: "人際之間最大的誤會，常來自於沒有好好說清楚。你不必事事報備，但面對重要的人或議題，坦白表達內心想法，是通向信任的橋梁。不只是對外，也包含與內在自我的誠實溝通。",
                practice: "與一位互動頻繁的人練習「說出一件最近讓你猶豫的事」，哪怕只是很小的感受。",
                keywords: ["表達", "誤會", "信任", "誠實"],
                image: "52-snake.png"
            },
            53: {
                title: "斑馬｜轉化覺醒",
                reminder: "你不再是過去的樣子，新的路正在前方等你。",
                meaning: "你已累積足夠的基礎，現在是時候跨出舒適區，探索新階段。新境地也伴隨不確定感，但它也會打開新的資源與支持。只要你踏出第一步，未知將變成可能。",
                practice: "今天安排一個與平常風格不同的小體驗，感受內在對新事物的接受度。",
                keywords: ["新路", "探索", "資源", "第一步"],
                image: "53-zebra.png"
            },
            54: {
                title: "獨角獸｜行動突破",
                reminder: "清晰的聚焦，是通往成功的捷徑。",
                meaning: "與其到處撒網，不如深耕一處。當你的能量聚焦在清楚的方向上，行動才會顯得有力且具成果。決策若來自清明的意圖，而非倉促的焦慮，才會讓未來更穩固。",
                practice: "寫下你本週的「唯一核心目標」，並每天確認你是否朝它靠近一點點。",
                keywords: ["聚焦", "深耕", "清明", "成果"],
                image: "54-unicorn.png"
            },
            55: {
                title: "水母｜內在穩定",
                reminder: "當你先安定下來，答案自然浮現。",
                meaning: "倉促決定，容易忽略更關鍵的訊息。在行動之前，先讓內心沉靜與緩和，幫助你釐清方向與需求。平穩的呼吸與安定的內在，是做出明智、穩妥選擇的起點。",
                practice: "當你遇到煩心事，問自己：「如果這是一個機會，它能帶給我什麼成長？」",
                keywords: ["安定", "沉靜", "釐清", "明智"],
                image: "55-jellyfish.png"
            },
            56: {
                title: "蜜蜂｜接納流動",
                reminder: "問題的存在，是邀請你靠近自己。",
                meaning: "當你感到困惑，別急著尋找外在答案。疑問往往是內在正在重新排列價值、界線、渴望的徵兆。你不是走錯路，而是正在進入更細緻的自我理解過程中。",
                practice: "面對選擇時，先不要急著決定，讓問題在心中沉澱幾個呼吸，再觀察哪個方向讓你更安心。",
                keywords: ["困惑", "靠近", "價值", "理解"],
                image: "56-bee.png"
            },
            57: {
                title: "獅子｜自信成長",
                reminder: "你的格局，決定了你能站得多高。",
                meaning: "將心境放得更寬，你會望見更大的世界。不是每一步都需完美，但每一步的堅持，都在鋪出屬於你的高峰之路。持續累積，就是通往理想的最佳方式。你正一步步成為更完整的自己。",
                practice: "將注意力放在胸口，感受那股內在力量的溫度，讓它成為今天支持你前行的一股穩定推力。",
                keywords: ["格局", "堅持", "理想", "完整"],
                image: "57-lion.png"
            },
            58: {
                title: "熊貓｜關愛共鳴",
                reminder: "一點一滴的誠摯互動，終將構成深厚情感。",
                meaning: "長久穩固的關係來自不斷的互相支持與共享時光，不是只靠一兩次的付出。無論是共事、共學、生活同住，還是陪伴自己，你的用心都會在時間中慢慢變成深厚的連結。",
                practice: "找個時間，向一位你曾一起完成某件事的人說：「我還記得那次，我很感謝有你。」",
                keywords: ["誠摯", "支持", "時光", "連結"],
                image: "58-panda.png"
            },
            59: {
                title: "老虎｜轉化覺醒",
                reminder: "改變不需要多，只要你願意開始看清。",
                meaning: "也許你正被過去的模式束縛，或者陷在某種習慣反應裡。沉澱與回顧會帶來清晰，而清晰才是行動的力量來源。轉變不是一下子要完成，而是從一個小覺察開始。",
                practice: "靜下心回想今天的三個選擇，其中有沒有一個是無意識的慣性反應？",
                keywords: ["模式", "清晰", "覺察", "轉變"],
                image: "59-tiger.png"
            },
            60: {
                title: "野豬｜行動突破",
                reminder: "穩定感，才是你真正的底氣來源。",
                meaning: "你的能量需要安放妥當，才足以應對即將展開的挑戰。過度的激烈刺激或情緒波動，反而讓行動失準。當你沉住氣，你會發現自己的力量其實比想像中更有穿透力。",
                practice: "在做重大決定前，先活動身體三分鐘，讓情緒透過身體流動出去。",
                keywords: ["穩定", "底氣", "能量", "穿透力"],
                image: "60-boar.png"
            }
        };
        
        // 顯示錯誤訊息
        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            setTimeout(() => {
                errorDiv.style.display = 'none';
            }, 3000);
        }
        
        // 初始化快速選擇按鈕
        function initQuickSelect() {
            const grid = document.getElementById('numberGrid');
            for (let i = 1; i <= 60; i++) {
                const btn = document.createElement('button');
                btn.className = 'number-btn';
                btn.textContent = i;
                btn.onclick = () => {
                    document.getElementById('cardNumber').value = i;
                    showCard();
                };
                grid.appendChild(btn);
            }
        }
        
        // 優化：預載入前5張最常使用的卡片圖片
        function preloadPopularImages() {
            const popularCards = [1, 2, 3, 4, 5];
            popularCards.forEach(cardNum => {
                const img = new Image();
                img.src = IMAGE_BASE_URL + cardDatabase[cardNum].image;
            });
        }
        
        // 優化：圖片載入處理
        function loadCardImage(cardNum, callback) {
            const card = cardDatabase[cardNum];
            const img = document.getElementById('cardImage');
            const imageContainer = img.parentElement;
            
            // 顯示載入中的佔位符
            img.style.display = 'none';
            let loadingPlaceholder = imageContainer.querySelector('.image-loading');
            
            if (!loadingPlaceholder) {
                loadingPlaceholder = document.createElement('div');
                loadingPlaceholder.className = 'image-loading';
                loadingPlaceholder.style.cssText = `
                    font-size: 80px; 
                    color: #007aff;
                    opacity: 0.6;
                    animation: pulse 1.5s ease-in-out infinite;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                `;
                loadingPlaceholder.innerHTML = '🎴<br><small style="font-size: 14px; margin-top: 8px;">載入中...</small>';
                imageContainer.appendChild(loadingPlaceholder);
            }
            
            // 建立新的圖片元素進行預載
            const newImg = new Image();
            newImg.onload = () => {
                img.src = newImg.src;
                img.style.display = 'block';
                if (loadingPlaceholder) {
                    loadingPlaceholder.remove();
                }
                callback();
            };
            
            newImg.onerror = () => {
                // 圖片載入失敗時顯示預設圖
                if (loadingPlaceholder) {
                    loadingPlaceholder.style.cssText = `
                        font-size: 120px; 
                        color: #007aff;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    `;
                    loadingPlaceholder.innerHTML = '🎴';
                }
                img.style.display = 'none';
                callback();
            };
            
            // 設定載入超時（3秒後顯示預設圖）
            setTimeout(() => {
                if (img.src !== newImg.src) {
                    newImg.onerror();
                }
            }, 3000);
            
            newImg.src = IMAGE_BASE_URL + card.image;
        }
        
        // 顯示卡片（優化版）
        function showCard() {
            const cardNum = parseInt(document.getElementById('cardNumber').value);
            
            if (!cardNum || cardNum < 1 || cardNum > 60) {
                showError('請輸入 1-60 之間的數字');
                return;
            }
            
            // 立即顯示載入狀態，減少等待感
            document.getElementById('searchSection').style.display = 'none';
            document.getElementById('loadingSection').style.display = 'block';
            
            // 使用 requestAnimationFrame 確保動畫順暢
            requestAnimationFrame(() => {
                displayCardResult(cardNum);
            });
        }
        
        // 顯示結果（優化版）
        function displayCardResult(cardNum) {
            const card = cardDatabase[cardNum];
            
            if (!card) {
                showError('找不到該卡片資料');
                document.getElementById('loadingSection').style.display = 'none';
                document.getElementById('searchSection').style.display = 'block';
                return;
            }
            
            // 先設定文字內容（不需等待圖片）
            document.getElementById('displayCardNumber').textContent = `#${cardNum}`;
            document.getElementById('cardTitle').textContent = card.title;
            document.getElementById('reminderText').textContent = card.reminder;
            document.getElementById('meaningText').textContent = card.meaning;
            document.getElementById('practiceText').textContent = card.practice;
            
            // 設定關鍵詞
            if (card.keywords && card.keywords.length > 0) {
                const keywordsHTML = card.keywords.map(keyword => 
                    `<span class="keyword-tag">${keyword}</span>`
                ).join('');
                document.getElementById('keywordsSection').innerHTML = keywordsHTML;
            }
            
            // 先顯示結果區域，再載入圖片
            document.getElementById('loadingSection').style.display = 'none';
            document.getElementById('resultSection').style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // 非同步載入圖片
            loadCardImage(cardNum, () => {
                // 圖片載入完成後的回調（如果需要的話）
            });
        }
        
        // 新查詢（優化版）
        function newSearch() {
            document.getElementById('cardNumber').value = '';
            document.getElementById('resultSection').style.display = 'none';
            document.getElementById('searchSection').style.display = 'block';
            document.getElementById('cardNumber').focus();
            
            // 清理圖片區域
            const img = document.getElementById('cardImage');
            img.style.display = 'block';
            img.src = '';
            const imageContainer = img.parentElement;
            const placeholder = imageContainer.querySelector('.image-loading');
            if (placeholder) {
                placeholder.remove();
            }
        }
        
        // 初始化（優化版）
        window.addEventListener('DOMContentLoaded', () => {
            initQuickSelect();
            preloadPopularImages(); // 預載入熱門卡片
            checkURLParams();
            
            // Enter 鍵送出
            document.getElementById('cardNumber').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    showCard();
                }
            });
            
            // 自動聚焦輸入框
            document.getElementById('cardNumber').focus();
        });
        
        // URL 參數支援
        function checkURLParams() {
            const params = new URLSearchParams(window.location.search);
            const cardNum = params.get('card');
            if (cardNum && cardNum >= 1 && cardNum <= 60) {
                document.getElementById('cardNumber').value = cardNum;
                showCard();
            }
        }
    </script>
</body>
</html>
